var BlogTextsWidget = {
    circleStyles: { backgroundColor: 'black', height: '50px', width: '50px', borderRadius: '50%', position: 'absolute', bottom: '10px', right: '10px', cursor: 'pointer', },
    welcome_message: 'send me a line',
    formHtml: '<%= escape_javascript render "form" %>',

    init: function() {
        console.log("widget initialized!");
        this.showIcon();
    },
    showForm: function() {
        document.body.insertAdjacentHTML('beforeend', this.formHtml);
        this.hideIcon();
    },
    hideForm: function() {
        document.getElementById('blog_text_widget').remove();
        this.showIcon();
    },
    hideIcon: function() {
        // need to get the x button, then add event listener to trigger this function
        // actually you need to get this icon in the show form function, then trigger the event in there, which triggers this function
        document.getElementById('blog_text_icon').remove();

    },
    showIcon: function() {
        let icon = document.createElement('span');
        icon.id = 'blog_text_icon';
        icon.addEventListener('click', this.showForm.bind(this));
        Object.assign(icon.style, this.circleStyles);

        document.body.append(icon);
    },
}

BlogTextsWidget.init(); 